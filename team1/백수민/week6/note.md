# 스프링 핵심 원리 - 기본편 by 김영한

## 2.5 스프링이란?
- 여러가지 기술의 집합체: 스프링 프레임워크, 부트, 데이터, 세션 등등
- 스프링 프레임워크:
  - 핵심 기술: 스프링 DI 컨테이너, AOP, 이벤트, 기타
- 최근에는 **스프링 부트**를 통해 스프링 프레임워크의 기술들을 편리하게 사용
- 스프링 부트:
  - Tomcat 같은 웹 서버를 내장해서 별도의 웹 서버를 설치하지 않아도 됨
  - 예전에는 Tomcat을 별도로 설치하고 안에 application을 넣고 띄워야했음..
  - 라이브러리 관리가 더 쉬워짐: starter 종속성 제공, 스프링과 외부 라이브러리 자동 구성 (라이브러리 버전 신경 쓸 필요 없음)
  - 관례에 의한 간결한 설정
  - 스프링 프레임워크를 사용하는 기술

<br>

**스프링의 핵심 컨셉?**
- 자바 언어 기반의 프레임워크
- 자바는 **객체 지향 언어!!**
- 스프링은 **좋은 객체 지향 애플리케이션을** 개발할 수 있게 도와주는 프레임워크

<br>

## 2.6 좋은 객체 지향 프로그래밍이란?
**객체 지향 프로그래밍:**
- 프로그램을 명령어의 목록 X 객체들의 **모임**으로 파악하고자 하는 것
- 각각의 객체는 메시지를 주고받고, 데이터를 처리할 수 있음 (협력)
- 프로그램을 유연하고 변경이 용이하게 만듦 (마치 레고 블럭 조립하듯이)

**객체 지향 특징:**
- 다형성(Polymorphism):
  - 가장 중요!!
  - 역할과 구현으로 세상을 구분
  - 클라이언트에 영향을 주지 않고 새로운 기능을 제공할 수 있음
  - 클라이언트는 대상의 역할(인터페이스)만 알면 된다 => 로미오는 줄리엣만 알면되지 누가 줄리엣의 역할을 맞는지 알 필요 X
  - 클라이언트는 구현 대상의 내부 구조 몰라도 됨, 구현 대상의 내부 구조 또는 대상 자체가 변경되어도 영향 받지 않음 (확장 가능한 설계)
  - **역할 = 인터페이스**, **구현 = 인터페이스를 구현한 클래스, 구현 객체**
  - 객체 설계시 역할(인터페이스)을 먼저 부여하고, 그 역할을 수행하는 구현 객체 만들기
  - 혼자 있는 객체는 없음
  - 클라이언트: 요청, 서버: 응답
  - 객체 클라이어트 - 객체 서버 (협려 관계)
  - 다형성 구현 방법: **오버라이딩**

**다형성의 본질:** 클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있어야 함 <br>
인터페이스를 안정적으로, 가장 변화가 없는 방식으로 설계하는 것이 중요!! <br>
스프링에서 이야기하는 제어의 역전(IoC), 의존관계 주입(DI)은 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원

<br>

## 2.7 좋은 객체 지향 설계의 5가지 원칙(SOLID)
### SOLID: 클린코드로 유명한 로버트 마틴이 좋은 객체 지향 설계의 5가지 원칙을 정리
1. SRP: 단일 책임 원칙(single responsibility principle)
   - **한 클래스는 하나의 책임만 가져야 함**
   - 중요한 기준은 변경: 변경이 있을 때 파급 효과가 적으면 단일 책임 원칙을 장 따른 것
2. OCP: 개방-폐쇄 원칙 (Open/closed principle)
   - 가장 중요한 원칙!!
   - **소프트웨어 요소는 확장에는 열려 있으나 변경에는 닫혀 있어야 함**
   - 다형성 활용
   - 예: 자동차가 테슬라에서 아반떼로 바뀌어도 운전자가 차를 운전할 수 있다는 사실은 변하지 않음
   - 객체를 생성하고, 연관관계를 맺어주는 별도의 조립, 설정자가 필요함 => **스프링 컨테이너의 역할**
3. LSP: 리스코프 치환 원칙 (Liskov substitution principle)
   - **구현체는 인터페이스 규약을 다 지켜야 됨**
   - 예: 자동차 인터페이스의 엑셀은 앞으로 가는 기능, 만약 구현체가 악세을 밟았을 때 뒤로가는 기능을 개발하면 리스코프 치환 원칙을 위반한 것
4. ISP: 인터페이스 분리 원칙 (Interface segregation principle)
   - **특정 클란이언트를 위한 여러 개의 인터페이스 > 하나의 범용 인터페이스**
   - 예: 자동차 인터페이스 => 운전 인터페이스, 정비 인터페이스로 분리
   - 인터페이스가 명확해지고, 대체 가능성이 높아짐
5. DIP: 의존관계 역전 원칙 (Dependency inversion principle)
   - 중요!!
   - **추상화 의존, NOT 구체화에 의존**
   - 구현 클래스에 의존하지 말고 인터페이스에 의존하자
   - 역할에 의존하게 해야 함, 절대 구현에 의존해서는 안됨!!
   - 예: 운전자는 자동차의 역할에 대해서만 알아야 함 (아반떼, K3인지 중요하지 않음)

**객체 지향의 핵심은 다형성 But, 다형성 만으로는 OCP, DIP를 지킬 수 없음 Hence, 뭔가 더 필요함!**

<br>

## 2.8 객체 지향 설계와 스프링
- 스프링은 DI(Dependency Injection), DI 컨테이너로 다형성 + OCP, DIP를 가능하게 지원!
- DI 컨테이너: 자바 객체들을 컨테이너에 넣어서 의존관계를 주입 및 연결해줌
- 클라이언트 코드의 변경 없이 기능 확장 - 쉽게 부품 교체하듯이 개발할 수 있음
- 기능 확장 가능성이 없으면 바로 구체 클래스 사용, 향후 필요하면 refactoring 해서 인터페이스 도입