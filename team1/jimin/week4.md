# 스프링과 DB 연동 개념 정리

## DataSource란?
DataSource는 데이터베이스 커넥션을 획득할 때 사용하는 객체입니다.  
스프링 부트는 application.properties 또는 application.yml에 작성된 DB 접속 정보를 기반으로 DataSource를 생성하고, 이를 스프링 빈으로 등록해둡니다.  
따라서 개발자는 직접 DataSource를 생성하지 않아도 DI(의존성 주입)을 통해 사용할 수 있습니다.

---

## 개방-폐쇄 원칙 (OCP: Open-Closed Principle)
확장에는 열려 있고, 수정에는 닫혀 있다는 객체지향 설계 원칙입니다.  
스프링의 DI(Dependency Injection)을 활용하면 기존 코드를 수정하지 않고도 새로운 기능을 설정만으로 확장할 수 있습니다.  
예시: MemberRepository 인터페이스의 구현체만 교체하면 코드 변경 없이 DB 저장 방식을 바꿀 수 있습니다.

---

## 회원 등록 테스트 시 주의할 점
DB에 데이터가 실제로 저장되므로, 스프링 서버를 재시작해도 데이터가 유지됩니다.  
따라서 테스트 중에는 DB 초기화나 롤백 전략이 필요합니다.

---

## @SpringBootTest와 @Transactional

### @SpringBootTest
스프링 전체 애플리케이션 컨텍스트를 로드해 통합 테스트를 수행할 수 있게 해줍니다.  
실제 빈 설정과 동일한 환경에서 테스트할 수 있습니다.

### @Transactional (테스트용)
테스트 메서드에 이 애노테이션을 붙이면, 테스트 시작 전에 트랜잭션이 시작되고 테스트가 끝난 뒤 자동 롤백됩니다.  
테스트 데이터가 DB에 남지 않게 되므로 테스트 간 간섭을 방지할 수 있습니다.

---

## JPA의 장점
- SQL 반복 코드를 줄일 수 있습니다.
- SQL 중심의 개발 방식에서 벗어나 객체 중심으로 설계할 수 있습니다.
- 복잡한 쿼리를 줄이고 엔티티 기반으로 도메인 설계를 진행하여 생산성을 높일 수 있습니다.

---

## 스프링 데이터 JPA의 주요 기능
- 인터페이스만 정의하면 CRUD 기능이 자동 구현됩니다.
- 메서드 이름만으로 조회 기능을 구현할 수 있습니다.
    - 예: findByName(), findByEmail()
- 페이징 기능을 자동으로 제공합니다.
